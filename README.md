# devops-netology  
## Шевякин Кирилл  

# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ  

- Электронные чеки в json виде  
  Подойдет документо-ориентированная nosql-база, потому что хранятся только документы - файлы в формате json  
  
- Склады и автомобильные дороги для логистической компании  
  Подойдет документо-ориентированная nosql-база, потому что склады и дороги можно представить в виде графов  
  
- Генеалогические деревья  
  Подойдет иерархическая база данных, потому что генеалогические деревья идеально можно представить в образе иерархии  
  
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации  
  Подойдет nosql-база типа Redis или Memcached, потому что они для этого функционала и созданы и используются  
  
- Отношения клиент-покупка для интернет-магазина
  Подойдет классическая реляционная sql-база, потому что все данные можно представить в виде таблиц  

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
- Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

### Ответ  

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)  
  По CAP я бы классифицировал эту систему как PA, данные не синхронизованы, но доступны и готовы к разделению
  По PACELC я бы классифицировал эту систему как PAEL, нет консистентности и при PA упор делается на доступность  
  
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
  По CAP я бы классифицировал эту систему как PA, данные не синхронизованы, но доступны и готовы к разделению
  По PACELC я бы классифицировал эту систему как PAEL, нет консистентности и при PA упор делается на доступность 
  Но вообще слишком мало данных, непонятны условия при и после разделения, при желании можно и принять классификацию как CP или вообще как CAP, что противоречит теореме  
  
- Система может не прислать корректный ответ или сбросить соединение  
  По CAP я бы классифицировал эту систему как PC, данные синхронизированы, но не всегда корректный ответ или ответ вообще 
  По PACELC я бы классифицировал эту систему как PСEС, есть консистентность и упор делается на нее  
  
## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

